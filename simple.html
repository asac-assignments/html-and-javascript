<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Simple TODO List</title>
  </head>
  <body>
    <section id="container">
      <h1 class="title">TODO</h1>
      <div class="input-container">
        <input type="text" class="todo-input" />
        <input id="saveTodoBtn" type="button" value="저장" />
      </div>
      <div class="list-container">
        <ul id="todo-list" class="todo-list"></ul>
      </div>
    </section>
    <script>
      const $todolist = document.getElementById("todo-list");
      const $saveTodoBtn = document.getElementById("saveTodoBtn");
      const $todoInput = document.querySelector(".todo-input");
      let $liEl;
      let inputText;

      // 이벤트리스너 바인딩
      $todoInput.addEventListener("input", (e) => {
        inputText = e.target.value;
      });
      $todoInput.addEventListener("keydown", (e) => {
        if (e.keyCode === 13 && inputText) {
          addTodo();
        }
      });
      $saveTodoBtn.addEventListener("click", (e) => {
        addTodo();
      });

      // 함수선언
      const addTodo = () => {
        if (window.confirm(`"${$todoInput.value}" 저장하시겠습니까?`)) {
          $liEl = `<li>${inputText}</li>`;

          $todolist.insertAdjacentHTML("beforeend", $liEl);
          $todoInput.value = "";
        }
      };
    </script>
  </body>
</html>
